<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Complet Cardifyy Local</title>
    <style>
        body { font-family: -apple-system, sans-serif; margin: 20px; line-height: 1.6; }
        .server-status { padding: 15px; margin: 10px 0; border-radius: 8px; }
        .online { background: #d4edda; border: 1px solid #c3e6cb; }
        .offline { background: #f8d7da; border: 1px solid #f5c6cb; }
        .test-case { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 8px; }
        .btn { padding: 12px 20px; margin: 8px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; text-decoration: none; display: inline-block; }
        .btn-primary { background: #4F46E5; color: white; }
        .btn-success { background: #10B981; color: white; }
        .btn-info { background: #06B6D4; color: white; }
        .data-example { background: #f8f9fa; padding: 10px; border-radius: 4px; margin: 10px 0; font-family: monospace; }
        .step { margin: 10px 0; padding: 8px; background: #fff3cd; border-radius: 4px; }
        .result { margin: 10px 0; padding: 8px; border-radius: 4px; }
        .success { background: #d4edda; }
        .error { background: #f8d7da; }
    </style>
</head>
<body>
    <h1>üöÄ Test Complet - Cardifyy Local</h1>
    
    <div class="server-status online">
        <h3>‚úÖ √âtat des Serveurs</h3>
        <ul>
            <li><strong>Backend:</strong> http://localhost:10000 - MongoDB connect√©</li>
            <li><strong>Frontend:</strong> http://localhost:3000 - Interface accessible</li>
            <li><strong>API Health:</strong> Fonctionnelle</li>
        </ul>
    </div>

    <div class="test-case">
        <h3>Test 1: Inscription via Interface Web</h3>
        <div class="step">
            <strong>Objectif:</strong> Cr√©er un nouveau compte utilisateur
        </div>
        
        <div class="data-example">
            <strong>Donn√©es de test valid√©es :</strong><br>
            ‚Ä¢ Email: votre.email@gmail.com (utilisez votre vraie adresse)<br>
            ‚Ä¢ Nom: Marie<br>
            ‚Ä¢ Pr√©nom: Durand<br>
            ‚Ä¢ Mot de passe: TestPassword123<br>
            ‚Ä¢ T√©l√©phone: 06-12345678 (format fran√ßais)<br>
            ‚Ä¢ Adresse: 42 Rue de la R√©publique, Lyon 69001<br>
            ‚Ä¢ Type: Compte Personnel ou Business
        </div>

        <a href="http://localhost:3000/register" class="btn btn-primary" target="_blank" rel="noopener">
            üìù Ouvrir Page Inscription
        </a>

        <div class="result" id="test1-result">
            ‚è≥ En attente de test...
        </div>
    </div>

    <div class="test-case">
        <h3>Test 2: Connexion avec Compte Cr√©√©</h3>
        <div class="step">
            <strong>Objectif:</strong> Se connecter avec les identifiants cr√©√©s
        </div>
        
        <div class="data-example">
            <strong>Utiliser:</strong><br>
            ‚Ä¢ Email: marie.durand.test@gmail.com<br>
            ‚Ä¢ Mot de passe: TestPassword123
        </div>

        <a href="http://localhost:3000/login" class="btn btn-primary" target="_blank" rel="noopener">
            üîë Ouvrir Page Connexion
        </a>

        <div class="result" id="test2-result">
            ‚è≥ En attente de test...
        </div>
    </div>

    <div class="test-case">
        <h3>Test 3: Navigation et Profil</h3>
        <div class="step">
            <strong>Objectif:</strong> V√©rifier l'interface utilisateur connect√©
        </div>
        
        <div class="data-example">
            <strong>√Ä v√©rifier:</strong><br>
            ‚Ä¢ Header affiche "Marie Durand"<br>
            ‚Ä¢ Menu profil accessible<br>
            ‚Ä¢ Navigation entre pages fluide<br>
            ‚Ä¢ D√©connexion fonctionne
        </div>

        <a href="http://localhost:3000" class="btn btn-info" target="_blank" rel="noopener">
            üè† Ouvrir Interface
        </a>

        <div class="result" id="test3-result">
            ‚è≥ En attente de test...
        </div>
    </div>

    <div class="test-case">
        <h3>Test 4: Cr√©ation de Carte de Visite</h3>
        <div class="step">
            <strong>Objectif:</strong> Cr√©er une nouvelle carte
        </div>
        
        <div class="data-example">
            <strong>Exemple de carte:</strong><br>
            ‚Ä¢ Titre: Marie Durand<br>
            ‚Ä¢ Sous-titre: Consultante Marketing<br>
            ‚Ä¢ Description: Experte en strat√©gie digitale<br>
            ‚Ä¢ Email: marie@consulting.fr<br>
            ‚Ä¢ T√©l√©phone: 06-12345678<br>
            ‚Ä¢ Site web: https://marie-consulting.fr
        </div>

        <a href="http://localhost:3000/cards/create" class="btn btn-primary" target="_blank" rel="noopener">
            ‚ûï Cr√©er une Carte
        </a>

        <div class="result" id="test4-result">
            ‚è≥ En attente de test...
        </div>
    </div>

    <div class="test-case">
        <h3>Test 5: Gestion des Cartes</h3>
        <div class="step">
            <strong>Objectif:</strong> Tester les fonctionnalit√©s de cartes
        </div>
        
        <div class="data-example">
            <strong>Actions √† tester:</strong><br>
            ‚Ä¢ Voir toutes les cartes (page Cartes)<br>
            ‚Ä¢ Liker une carte<br>
            ‚Ä¢ Voir d√©tail d'une carte<br>
            ‚Ä¢ Supprimer sa propre carte
        </div>

        <a href="http://localhost:3000/cards" class="btn btn-primary" target="_blank" rel="noopener">
            üìã Voir les Cartes
        </a>

        <div class="result" id="test5-result">
            ‚è≥ En attente de test...
        </div>
    </div>

    <div class="test-case">
        <h3>‚úÖ R√©sultats API (D√©j√† Valid√©s)</h3>
        <div class="result success">
            <strong>Backend API Tests:</strong><br>
            ‚úÖ Inscription: marie.durand.test@gmail.com cr√©√© avec succ√®s<br>
            ‚úÖ Connexion: Authentification r√©ussie<br>
            ‚úÖ Token JWT: G√©n√©r√© et valide<br>
            ‚úÖ Base de donn√©es: Utilisateur sauvegard√©
        </div>
    </div>

    <h2>üìä Instructions de Test</h2>
    <div class="step">
        <strong>1. Inscription:</strong> Utilisez n'importe quel email valide (@gmail.com recommand√©)
    </div>
    <div class="step">
        <strong>2. Format t√©l√©phone:</strong> Obligatoirement "0X-XXXXXXX" (ex: 06-12345678)
    </div>
    <div class="step">
        <strong>3. Mot de passe:</strong> Minimum 7 caract√®res
    </div>
    <div class="step">
        <strong>4. Adresse:</strong> Tous les champs requis (pays, ville, rue, num√©ro, code postal)
    </div>

    <script>
        // V√©rification automatique de l'√©tat des serveurs
        async function checkServerStatus() {
            try {
                const response = await fetch('http://localhost:10000/api/health');
                const data = await response.json();
                if (data.status === 'OK') {
                    document.querySelector('.server-status').innerHTML = 
                        '<h3>‚úÖ Serveurs Op√©rationnels</h3>' +
                        '<ul>' +
                        '<li><strong>Backend:</strong> http://localhost:10000 ‚úÖ</li>' +
                        '<li><strong>Frontend:</strong> http://localhost:3000 ‚úÖ</li>' +
                        '<li><strong>API Health:</strong> ' + data.status + ' ‚úÖ</li>' +
                        '<li><strong>Environnement:</strong> ' + data.environment + '</li>' +
                        '</ul>';
                }
            } catch (error) {
                document.querySelector('.server-status').className = 'server-status offline';
                document.querySelector('.server-status').innerHTML = 
                    '<h3>‚ùå Serveur Backend Indisponible</h3>' +
                    '<p>V√©rifiez que le backend est d√©marr√© sur le port 10000</p>';
            }
        }

        // V√©rifier au chargement
        checkServerStatus();
        
        // V√©rifier toutes les 30 secondes
        setInterval(checkServerStatus, 30000);
    </script>
</body>
</html>
